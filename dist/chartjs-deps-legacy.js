document.createElement("canvas").getContext||!function(){function t(){return this.context_||(this.context_=new F(this))}function e(t,e){var i=X.call(arguments,2);return function(){return t.apply(e,i.concat(X.call(arguments)))}}function i(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function a(t,e,i){t.namespaces[e]||t.namespaces.add(e,i,"#default#VML")}function r(t){if(a(t,"g_vml_","urn:schemas-microsoft-com:vml"),a(t,"g_o_","urn:schemas-microsoft-com:office:office"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function n(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function s(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function o(){return[[1,0,0],[0,1,0],[0,0,1]]}function l(t,e){for(var i=o(),a=0;3>a;a++)for(var r=0;3>r;r++){for(var n=0,s=0;3>s;s++)n+=t[a][s]*e[s][r];i[a][r]=n}return i}function h(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function c(t){var e=t.indexOf("(",3),i=t.indexOf(")",e+1),a=t.substring(e+1,i).split(",");return(4!=a.length||"a"!=t.charAt(3))&&(a[3]=1),a}function u(t){return parseFloat(t)/100}function f(t,e,i){return Math.min(i,Math.max(e,t))}function d(t){var e,i,a,r,n,s;if(r=parseFloat(t[0])/360%360,0>r&&r++,n=f(u(t[1]),0,1),s=f(u(t[2]),0,1),0==n)e=i=a=s;else{var o=.5>s?s*(1+n):s+n-s*n,l=2*s-o;e=p(l,o,r+1/3),i=p(l,o,r),a=p(l,o,r-1/3)}return"#"+q[Math.floor(255*e)]+q[Math.floor(255*i)]+q[Math.floor(255*a)]}function p(t,e,i){return 0>i&&i++,i>1&&i--,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function g(t){if(t in V)return V[t];var e,i=1;if(t=String(t),"#"==t.charAt(0))e=t;else if(/^rgb/.test(t)){for(var a,r=c(t),e="#",n=0;3>n;n++)a=-1!=r[n].indexOf("%")?Math.floor(255*u(r[n])):+r[n],e+=q[f(a,0,255)];i=+r[3]}else if(/^hsl/.test(t)){var r=c(t);e=d(r),i=r[3]}else e=Y[t]||t;return V[t]={color:e,alpha:i}}function m(t){if(U[t])return U[t];var e=document.createElement("div"),i=e.style;try{i.font=t}catch(a){}return U[t]={style:i.fontStyle||G.style,variant:i.fontVariant||G.variant,weight:i.fontWeight||G.weight,size:i.fontSize||G.size,family:i.fontFamily||G.family}}function y(t,e){var i={};for(var a in t)i[a]=t[a];var r=parseFloat(e.currentStyle.fontSize),n=parseFloat(t.size);return i.size="number"==typeof t.size?t.size:-1!=t.size.indexOf("px")?n:-1!=t.size.indexOf("em")?r*n:-1!=t.size.indexOf("%")?r/100*n:-1!=t.size.indexOf("pt")?n/.75:r,i.size*=.981,i}function x(t){return t.style+" "+t.variant+" "+t.weight+" "+t.size+"px "+t.family}function _(t){return J[t]||"square"}function F(t){this.m_=o(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*N,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",i=t.ownerDocument.createElement("div");i.style.cssText=e,t.appendChild(i);var a=i.cloneNode(!1);a.style.backgroundColor="red",a.style.filter="alpha(opacity=0)",t.appendChild(a),this.element_=i,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function v(t,e,i,a){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:a.x,y:a.y}),t.currentX_=a.x,t.currentY_=a.y}function w(t,e){var i=g(t.strokeStyle),a=i.color,r=i.alpha*t.globalAlpha,n=t.lineScale_*t.lineWidth;1>n&&(r*=n),e.push("<g_vml_:stroke",' opacity="',r,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',_(t.lineCap),'"',' weight="',n,'px"',' color="',a,'" />')}function b(t,e,i,a){var r=t.fillStyle,n=t.arcScaleX_,s=t.arcScaleY_,o=a.x-i.x,l=a.y-i.y;if(r instanceof k){var h=0,c={x:0,y:0},u=0,f=1;if("gradient"==r.type_){var d=r.x0_/n,p=r.y0_/s,m=r.x1_/n,y=r.y1_/s,x=E(t,d,p),_=E(t,m,y),F=_.x-x.x,v=_.y-x.y;h=180*Math.atan2(F,v)/Math.PI,0>h&&(h+=360),1e-6>h&&(h=0)}else{var x=E(t,r.x0_,r.y0_);c={x:(x.x-i.x)/o,y:(x.y-i.y)/l},o/=n*N,l/=s*N;var w=B.max(o,l);u=2*r.r0_/w,f=2*r.r1_/w-u}var b=r.colors_;b.sort(function(t,e){return t.offset-e.offset});for(var C=b.length,S=b[0].color,A=b[C-1].color,D=b[0].alpha*t.globalAlpha,R=b[C-1].alpha*t.globalAlpha,M=[],z=0;C>z;z++){var O=b[z];M.push(O.offset*f+u+" "+O.color)}e.push('<g_vml_:fill type="',r.type_,'"',' method="none" focus="100%"',' color="',S,'"',' color2="',A,'"',' colors="',M.join(","),'"',' opacity="',R,'"',' g_o_:opacity2="',D,'"',' angle="',h,'"',' focusposition="',c.x,",",c.y,'" />')}else if(r instanceof T){if(o&&l){var P=-i.x,I=-i.y;e.push("<g_vml_:fill",' position="',P/o*n*n,",",I/l*s*s,'"',' type="tile"',' src="',r.src_,'" />')}}else{var L=g(t.fillStyle),X=L.color,j=L.alpha*t.globalAlpha;e.push('<g_vml_:fill color="',X,'" opacity="',j,'" />')}}function E(t,e,i){var a=t.m_;return{x:N*(e*a[0][0]+i*a[1][0]+a[2][0])-L,y:N*(e*a[0][1]+i*a[1][1]+a[2][1])-L}}function C(t){return isFinite(t[0][0])&&isFinite(t[0][1])&&isFinite(t[1][0])&&isFinite(t[1][1])&&isFinite(t[2][0])&&isFinite(t[2][1])}function S(t,e,i){if(C(e)&&(t.m_=e,i)){var a=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=I(P(a))}}function k(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function T(t,e){switch(D(t),e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:A("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function A(t){throw new R(t)}function D(t){t&&1==t.nodeType&&"IMG"==t.tagName||A("TYPE_MISMATCH_ERR"),"complete"!=t.readyState&&A("INVALID_STATE_ERR")}function R(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var B=Math,M=B.round,z=B.sin,O=B.cos,P=B.abs,I=B.sqrt,N=10,L=N/2,X=(+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);r(document);var j={init:function(t){var i=t||document;i.createElement("canvas"),i.attachEvent("onreadystatechange",e(this.init_,this,i))},init_:function(t){for(var e=t.getElementsByTagName("canvas"),i=0;i<e.length;i++)this.initElement(e[i])},initElement:function(e){if(!e.getContext){e.getContext=t,r(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",n),e.attachEvent("onresize",s);var i=e.attributes;i.width&&i.width.specified?e.style.width=i.width.nodeValue+"px":e.width=e.clientWidth,i.height&&i.height.specified?e.style.height=i.height.nodeValue+"px":e.height=e.clientHeight}return e}};j.init();for(var q=[],W=0;16>W;W++)for(var H=0;16>H;H++)q[16*W+H]=W.toString(16)+H.toString(16);var Y={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},V={},G={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},U={},J={butt:"flat",round:"round"},Z=F.prototype;Z.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},Z.beginPath=function(){this.currentPath_=[]},Z.moveTo=function(t,e){var i=E(this,t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},Z.lineTo=function(t,e){var i=E(this,t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},Z.bezierCurveTo=function(t,e,i,a,r,n){var s=E(this,r,n),o=E(this,t,e),l=E(this,i,a);v(this,o,l,s)},Z.quadraticCurveTo=function(t,e,i,a){var r=E(this,t,e),n=E(this,i,a),s={x:this.currentX_+2/3*(r.x-this.currentX_),y:this.currentY_+2/3*(r.y-this.currentY_)},o={x:s.x+(n.x-this.currentX_)/3,y:s.y+(n.y-this.currentY_)/3};v(this,s,o,n)},Z.arc=function(t,e,i,a,r,n){i*=N;var s=n?"at":"wa",o=t+O(a)*i-L,l=e+z(a)*i-L,h=t+O(r)*i-L,c=e+z(r)*i-L;o!=h||n||(o+=.125);var u=E(this,t,e),f=E(this,o,l),d=E(this,h,c);this.currentPath_.push({type:s,x:u.x,y:u.y,radius:i,xStart:f.x,yStart:f.y,xEnd:d.x,yEnd:d.y})},Z.rect=function(t,e,i,a){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+a),this.lineTo(t,e+a),this.closePath()},Z.strokeRect=function(t,e,i,a){var r=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+a),this.lineTo(t,e+a),this.closePath(),this.stroke(),this.currentPath_=r},Z.fillRect=function(t,e,i,a){var r=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+a),this.lineTo(t,e+a),this.closePath(),this.fill(),this.currentPath_=r},Z.createLinearGradient=function(t,e,i,a){var r=new k("gradient");return r.x0_=t,r.y0_=e,r.x1_=i,r.y1_=a,r},Z.createRadialGradient=function(t,e,i,a,r,n){var s=new k("gradientradial");return s.x0_=t,s.y0_=e,s.r0_=i,s.x1_=a,s.y1_=r,s.r1_=n,s},Z.drawImage=function(t){var e,i,a,r,n,s,o,l,h=t.runtimeStyle.width,c=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var u=t.width,f=t.height;if(t.runtimeStyle.width=h,t.runtimeStyle.height=c,3==arguments.length)e=arguments[1],i=arguments[2],n=s=0,o=a=u,l=r=f;else if(5==arguments.length)e=arguments[1],i=arguments[2],a=arguments[3],r=arguments[4],n=s=0,o=u,l=f;else{if(9!=arguments.length)throw Error("Invalid number of arguments");n=arguments[1],s=arguments[2],o=arguments[3],l=arguments[4],e=arguments[5],i=arguments[6],a=arguments[7],r=arguments[8]}var d=E(this,e,i),p=[],g=10,m=10;if(p.push(" <g_vml_:group",' coordsize="',N*g,",",N*m,'"',' coordorigin="0,0"',' style="width:',g,"px;height:",m,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var y=[];y.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",M(d.x/N),",","Dy=",M(d.y/N),"");var x=d,_=E(this,e+a,i),F=E(this,e,i+r),v=E(this,e+a,i+r);x.x=B.max(x.x,_.x,F.x,v.x),x.y=B.max(x.y,_.y,F.y,v.y),p.push("padding:0 ",M(x.x/N),"px ",M(x.y/N),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",y.join(""),", sizingmethod='clip');")}else p.push("top:",M(d.y/N),"px;left:",M(d.x/N),"px;");p.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',N*a,"px;"," height:",N*r,'px"',' cropleft="',n/u,'"',' croptop="',s/f,'"',' cropright="',(u-n-o)/u,'"',' cropbottom="',(f-s-l)/f,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",p.join(""))},Z.stroke=function(t){var e=[],i=10,a=10;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',i,"px;height:",a,'px;"',' coordorigin="0,0"',' coordsize="',N*i,",",N*a,'"',' stroked="',!t,'"',' path="');for(var r={x:null,y:null},n={x:null,y:null},s=0;s<this.currentPath_.length;s++){var o,l=this.currentPath_[s];switch(l.type){case"moveTo":o=l,e.push(" m ",M(l.x),",",M(l.y));break;case"lineTo":e.push(" l ",M(l.x),",",M(l.y));break;case"close":e.push(" x "),l=null;break;case"bezierCurveTo":e.push(" c ",M(l.cp1x),",",M(l.cp1y),",",M(l.cp2x),",",M(l.cp2y),",",M(l.x),",",M(l.y));break;case"at":case"wa":e.push(" ",l.type," ",M(l.x-this.arcScaleX_*l.radius),",",M(l.y-this.arcScaleY_*l.radius)," ",M(l.x+this.arcScaleX_*l.radius),",",M(l.y+this.arcScaleY_*l.radius)," ",M(l.xStart),",",M(l.yStart)," ",M(l.xEnd),",",M(l.yEnd))}l&&((null==r.x||l.x<r.x)&&(r.x=l.x),(null==n.x||l.x>n.x)&&(n.x=l.x),(null==r.y||l.y<r.y)&&(r.y=l.y),(null==n.y||l.y>n.y)&&(n.y=l.y))}e.push(' ">'),t?b(this,e,r,n):w(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},Z.fill=function(){this.stroke(!0)},Z.closePath=function(){this.currentPath_.push({type:"close"})},Z.save=function(){var t={};h(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=l(o(),this.m_)},Z.restore=function(){this.aStack_.length&&(h(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},Z.translate=function(t,e){var i=[[1,0,0],[0,1,0],[t,e,1]];S(this,l(i,this.m_),!1)},Z.rotate=function(t){var e=O(t),i=z(t),a=[[e,i,0],[-i,e,0],[0,0,1]];S(this,l(a,this.m_),!1)},Z.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e;var i=[[t,0,0],[0,e,0],[0,0,1]];S(this,l(i,this.m_),!0)},Z.transform=function(t,e,i,a,r,n){var s=[[t,e,0],[i,a,0],[r,n,1]];S(this,l(s,this.m_),!0)},Z.setTransform=function(t,e,i,a,r,n){var s=[[t,e,0],[i,a,0],[r,n,1]];S(this,s,!0)},Z.drawText_=function(t,e,a,r,n){var s=this.m_,o=1e3,l=0,h=o,c={x:0,y:0},u=[],f=y(m(this.font),this.element_),d=x(f),p=this.element_.currentStyle,g=this.textAlign.toLowerCase();switch(g){case"left":case"center":case"right":break;case"end":g="ltr"==p.direction?"right":"left";break;case"start":g="rtl"==p.direction?"right":"left";break;default:g="left"}switch(this.textBaseline){case"hanging":case"top":c.y=f.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":c.y=-f.size/2.25}switch(g){case"right":l=o,h=.05;break;case"center":l=h=o/2}var _=E(this,e+c.x,a+c.y);u.push('<g_vml_:line from="',-l,' 0" to="',h,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!n,'" stroked="',!!n,'" style="position:absolute;width:1px;height:1px;">'),n?w(this,u):b(this,u,{x:-l,y:0},{x:h,y:f.size});var F=s[0][0].toFixed(3)+","+s[1][0].toFixed(3)+","+s[0][1].toFixed(3)+","+s[1][1].toFixed(3)+",0,0",v=M(_.x/N)+","+M(_.y/N);u.push('<g_vml_:skew on="t" matrix="',F,'" ',' offset="',v,'" origin="',l,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',i(t),'" style="v-text-align:',g,";font:",i(d),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",u.join(""))},Z.fillText=function(t,e,i,a){this.drawText_(t,e,i,a,!1)},Z.strokeText=function(t,e,i,a){this.drawText_(t,e,i,a,!0)},Z.measureText=function(t){if(!this.textMeasureEl_){var e='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",e),this.textMeasureEl_=this.element_.lastChild}var i=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(i.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},Z.clip=function(){},Z.arcTo=function(){},Z.createPattern=function(t,e){return new T(t,e)},k.prototype.addColorStop=function(t,e){e=g(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})};var Q=R.prototype=new Error;Q.INDEX_SIZE_ERR=1,Q.DOMSTRING_SIZE_ERR=2,Q.HIERARCHY_REQUEST_ERR=3,Q.WRONG_DOCUMENT_ERR=4,Q.INVALID_CHARACTER_ERR=5,Q.NO_DATA_ALLOWED_ERR=6,Q.NO_MODIFICATION_ALLOWED_ERR=7,Q.NOT_FOUND_ERR=8,Q.NOT_SUPPORTED_ERR=9,Q.INUSE_ATTRIBUTE_ERR=10,Q.INVALID_STATE_ERR=11,Q.SYNTAX_ERR=12,Q.INVALID_MODIFICATION_ERR=13,Q.NAMESPACE_ERR=14,Q.INVALID_ACCESS_ERR=15,Q.VALIDATION_ERR=16,Q.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=j,CanvasRenderingContext2D=F,CanvasGradient=k,CanvasPattern=T,DOMException=R}(),window.Canvas=window.Canvas||{},window.Canvas.Text={equivalentFaces:{arial:["liberation sans","nimbus sans l","freesans","optimer","dejavu sans"],"times new roman":["liberation serif","helvetiker","linux libertine","freeserif"],"courier new":["dejavu sans mono","liberation mono","nimbus mono l","freemono"],georgia:["nimbus roman no9 l","helvetiker"],helvetica:["nimbus sans l","helvetiker","freesans"],tahoma:["dejavu sans","optimer","bitstream vera sans"],verdana:["dejavu sans","optimer","bitstream vera sans"]},genericFaces:{serif:["times new roman","georgia","garamond","bodoni","minion web","itc stone serif","bitstream cyberbit"],"sans-serif":["arial","verdana","trebuchet","tahoma","helvetica","itc avant garde gothic","univers","futura","gill sans","akzidenz grotesk","attika","typiko new era","itc stone sans","monotype gill sans 571"],monospace:["courier","courier new","prestige","everson mono"],cursive:["caflisch script","adobe poetica","sanvito","ex ponto","snell roundhand","zapf-chancery"],fantasy:["alpha geometrique","critter","cottonwood","fb reactor","studz"]},faces:{},scaling:.962,_styleCache:{}},function(){function getCSSWeightEquivalent(t){switch(String(t)){case"bolder":case"bold":case"900":case"800":case"700":return"bold";case"600":case"500":case"400":default:case"normal":return"normal"}}function getElementStyle(t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle||t.style}function getXHR(){if(!ctxt.xhr)for(var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],e=0;e<t.length;e++)try{ctxt.xhr=t[e]();break}catch(i){}return ctxt.xhr}function arrayContains(t,e){var i,a=t.length;for(i=a-1;i>=0;--i)if(t[i]===e)return!0;return!1}var isOpera9=window.opera&&/Opera\/9/.test(navigator.userAgent),proto=window.CanvasRenderingContext2D?window.CanvasRenderingContext2D.prototype:document.createElement("canvas").getContext("2d").__proto__,ctxt=window.Canvas.Text;ctxt.options={fallbackCharacter:" ",dontUseMoz:!1,reimplement:!1,debug:!1,autoload:!1};var scripts=document.getElementsByTagName("script"),parts=scripts[scripts.length-1].src.split("?");if(ctxt.basePath=parts[0].substr(0,parts[0].lastIndexOf("/")+1),parts[1])for(var options=parts[1].split("&"),j=options.length-1;j>=0;--j){var pair=options[j].split("=");ctxt.options[pair[0]]=pair[1]}var moz=!ctxt.options.dontUseMoz&&proto.mozDrawText&&!proto.fillText;if(proto.fillText&&!ctxt.options.reimplement&&!/iphone/i.test(navigator.userAgent))return window._typeface_js={loadFace:function(){}};ctxt.lookupFamily=function(t){var e,i,a,r,n=this.faces,s=this.equivalentFaces,o=this.genericFaces;if(n[t])return n[t];if(o[t])for(i=0;i<o[t].length;i++)if(a=this.lookupFamily(o[t][i]))return a;if(!(r=s[t]))return!1;for(i=0;i<r.length;i++)if(e=n[r[i]])return e;return!1},ctxt.getFace=function(family,weight,style){var face=this.lookupFamily(family);if(!face)return!1;if(face&&face[weight]&&face[weight][style])return face[weight][style];if(!this.options.autoload)return!1;var faceName=family.replace(/[ -]/g,"_")+"-"+weight+"-"+style,xhr=this.xhr,url=this.basePath+this.options.autoload+"/"+faceName+".js";if(xhr=getXHR(),xhr.open("get",url,!1),xhr.send(null),200==xhr.status)return eval(xhr.responseText),this.faces[family][weight][style];throw"Unable to load the font ["+family+" "+weight+" "+style+"]"},ctxt.loadFace=function(t){var e=t.familyName.toLowerCase();return this.faces[e]=this.faces[e]||{},t.strokeFont?(this.faces[e].normal=this.faces[e].normal||{},this.faces[e].normal.normal=t,this.faces[e].normal.italic=t,this.faces[e].bold=this.faces[e].normal||{},this.faces[e].bold.normal=t,this.faces[e].bold.italic=t):(this.faces[e][t.cssFontWeight]=this.faces[e][t.cssFontWeight]||{},this.faces[e][t.cssFontWeight][t.cssFontStyle]=t),t},window._typeface_js={faces:ctxt.faces,loadFace:ctxt.loadFace},ctxt.getFaceFromStyle=function(t){var e,i,a=getCSSWeightEquivalent(t.weight),r=t.family;for(e=0;e<r.length;e++)if(i=this.getFace(r[e].toLowerCase().replace(/^-webkit-/,""),a,t.style))return i;return!1};try{proto.font="10px sans-serif",proto.textAlign="start",proto.textBaseline="alphabetic"}catch(e){}proto.parseStyle=function(t){if(ctxt._styleCache[t])return this.getComputedStyle(ctxt._styleCache[t]);var e,a,r={};for(this._elt||(this._elt=document.createElement("span"),this.canvas.appendChild(this._elt)),this.canvas.font="10px sans-serif",this._elt.style.font=t,e=getElementStyle(this._elt),r.size=e.fontSize,r.weight=getCSSWeightEquivalent(e.fontWeight),r.style=e.fontStyle,a=e.fontFamily.split(","),i=0;i<a.length;i++)a[i]=a[i].replace(/^["'\s]*/,"").replace(/["'\s]*$/,"");return r.family=a,this.getComputedStyle(ctxt._styleCache[t]=r)},proto.buildStyle=function(t){return t.style+" "+t.weight+" "+t.size+'px "'+t.family+'"'},proto.renderText=function(t,e){var i,a=ctxt.getFaceFromStyle(e),r=e.size/a.resolution*.75,n=0,s=String(t).split(""),o=s.length;for(isOpera9||(this.scale(r,-r),this.lineWidth/=r),i=0;o>i;i++)n+=this.renderGlyph(s[i],a,r,n)},proto.renderGlyph=isOpera9?function(t,e,i,a){var r,n,s,o,l,h,c=e.glyphs[t]||e.glyphs[ctxt.options.fallbackCharacter];if(c){if(c.o)for(o=c._cachedOutline||(c._cachedOutline=c.o.split(" ")),h=o.length,r=0;h>r;)switch(l=o[r++]){case"m":this.moveTo(o[r++]*i+a,o[r++]*-i);break;case"l":this.lineTo(o[r++]*i+a,o[r++]*-i);break;case"q":n=o[r++]*i+a,s=o[r++]*-i,this.quadraticCurveTo(o[r++]*i+a,o[r++]*-i,n,s);break;case"b":n=o[r++]*i+a,s=o[r++]*-i,this.bezierCurveTo(o[r++]*i+a,o[r++]*-i,o[r++]*i+a,o[r++]*-i,n,s)}return c.ha*i}}:function(t,e){var i,a,r,n,s,o,l=e.glyphs[t]||e.glyphs[ctxt.options.fallbackCharacter];if(l){if(l.o)for(n=l._cachedOutline||(l._cachedOutline=l.o.split(" ")),o=n.length,i=0;o>i;)switch(s=n[i++]){case"m":this.moveTo(n[i++],n[i++]);break;case"l":this.lineTo(n[i++],n[i++]);break;case"q":a=n[i++],r=n[i++],this.quadraticCurveTo(n[i++],n[i++],a,r);break;case"b":a=n[i++],r=n[i++],this.bezierCurveTo(n[i++],n[i++],n[i++],n[i++],a,r)}l.ha&&this.translate(l.ha,0)}},proto.getTextExtents=function(t,e){var i,a,r=0,n=0,s=ctxt.getFaceFromStyle(e),o=t.length;for(i=0;o>i;i++)a=s.glyphs[t.charAt(i)]||s.glyphs[ctxt.options.fallbackCharacter],r+=Math.max(a.ha,a.x_max),n+=a.ha;return{width:r,height:s.lineHeight,ha:n}},proto.getComputedStyle=function(t){var e,i=getElementStyle(this.canvas),a={},r=t.size,n=parseFloat(i.fontSize),s=parseFloat(r);for(e in t)a[e]=t[e];return a.size="number"==typeof r||-1!=r.indexOf("px")?s:-1!=r.indexOf("em")?n*s:-1!=r.indexOf("%")?n/100*s:-1!=r.indexOf("pt")?s/.75:n,a},proto.getTextOffset=function(t,e,i){var a=getElementStyle(this.canvas),r=this.measureText(t),n=e.size/i.resolution*.75,s={x:0,y:0,metrics:r,scale:n};switch(this.textAlign){default:case null:case"left":break;case"center":s.x=-r.width/2;break;case"right":s.x=-r.width;break;case"start":s.x="rtl"==a.direction?-r.width:0;break;case"end":s.x="ltr"==a.direction?-r.width:0}switch(this.textBaseline){case"alphabetic":break;default:case null:case"ideographic":case"bottom":s.y=i.descender;break;case"hanging":case"top":s.y=i.ascender;break;case"middle":s.y=(i.ascender+i.descender)/2}return s.y*=n,s},proto.drawText=function(t,e,i,a,r){var n=this.parseStyle(this.font),s=ctxt.getFaceFromStyle(n),o=this.getTextOffset(t,n,s);if(this.save(),this.translate(e+o.x,i+o.y),s.strokeFont&&!r&&(this.strokeStyle=this.fillStyle),this.lineCap="round",this.beginPath(),moz?(this.mozTextStyle=this.buildStyle(n),this[r?"mozPathText":"mozDrawText"](t)):(this.scale(ctxt.scaling,ctxt.scaling),this.renderText(t,n),s.strokeFont&&(this.lineWidth=2+n.size*("bold"==n.weight?.08:.015)/2)),this[r||s.strokeFont&&!moz?"stroke":"fill"](),this.closePath(),this.restore(),ctxt.options.debug){var l=Math.floor(o.x+e)+.5,h=Math.floor(i)+.5;this.save(),this.strokeStyle="#F00",this.lineWidth=.5,this.beginPath(),this.moveTo(l+o.metrics.width,h),this.lineTo(l,h),this.moveTo(l-o.x,h+o.y),this.lineTo(l-o.x,h+o.y-n.size),this.stroke(),this.closePath(),this.restore()}},proto.fillText=function(t,e,i,a){this.drawText(t,e,i,a,!1)},proto.strokeText=function(t,e,i,a){this.drawText(t,e,i,a,!0)},proto.measureText=function(t){var e=this.parseStyle(this.font),i={width:0};if(moz)this.mozTextStyle=this.buildStyle(e),i.width=this.mozMeasureText(t);else{var a=ctxt.getFaceFromStyle(e),r=e.size/a.resolution*.75;i.width=this.getTextExtents(t,e).ha*r*ctxt.scaling}return i}}();